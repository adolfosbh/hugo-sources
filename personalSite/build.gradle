// To run this gradle build script, there are some pre-requisites
// 1. Have hugo installed wherever the build is run
// 2. Have the target adolfosbh.github.io repository located at the same level as hugo-sources repository
defaultTasks 'buildAndClean'

task generateSite (type:Exec) {
	commandLine 'hugo'	
}

task moveGeneratedSite(type: Copy, dependsOn: 'generateSite') {
    from ("./public") {
    	exclude "categories", "tags", "img/clients/face*", "img/clients/logo*", "img/work/proj-*", "img/clients/Dayana.png"
    }
    into "../../adolfosbh.github.io"
}

task clean {
	doLast {
		delete "./public"
	}
}

task buildAndClean(dependsOn: ['moveGeneratedSite', 'clean'])
clean.mustRunAfter moveGeneratedSite
